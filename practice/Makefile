
IUPC_FILES=iupc_main.o \
		   pcap_context.o \
		   pcap_procedure.o \
		   context_db.o

CURRENT_DIR=`pwd`
BOOST_ROOT=${CURRENT_DIR}/boost_1_72_0
BOOST_INCLUDE_PATH=-I. -I${BOOST_ROOT}
BOOST_LIB_PATH=-L${BOOST_ROOT}/stage/lib/
BLIB_PREFIX=lib
BLIBNAME_PREFIX=boost
BTOOLSET=gcc34
BMULTITHREAD=mt
BABITAG=d
BARCH=x86
BVERSIONTAG=1_72_0

BOOST_LIB_FNAME_PREFIX=${BLIB_PREFIX}${BLIBNAME_PREFIX}
BOOST_LIB_LNAME_PREFIX=${BLIBNAME_PREFIX}
BOOST_LIB_SUFFIX=${BTOOLSET}-${BMULTITHREAD}-${BABITAG}-${BVERSIONTAG}

REGEX_LIBNAME=regex
REGEX_LIB_LINK=${BOOST_LIB_LNAME_PREFIX}_${REGEX_LIBNAME}
REGEX_LIB_FILE=${BOOST_LIB_FNAME_PREFIX}_${REGEX_LIBNAME}.a

BOOST_LIBS=-l${REGEX_LIB_LINK}

BOOST_CMDLINE=${BOOST_INCLUDE_PATH} ${BOOST_LIB_PATH} ${BOOST_LIBS} 
%.o:%.cpp
	echo g++ ${BOOST_CMDLINE} $< -o $@
	g++ ${BOOST_CMDLINE} -c $< -o $@

iupc:${IUPC_FILES}
	g++ ${IUPC_FILES} -o $@

clean:
	rm -rf ${IUPC_FILES}
	rm -rf iupc
